"use strict";var e=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}},t={"text/plain":"Text","text/html":"Url",default:"Text"};var n=function(n,a){var i,o,l,r,d,s,c=!1;a||(a={}),i=a.debug||!1;try{if(l=e(),r=document.createRange(),d=document.getSelection(),(s=document.createElement("span")).textContent=n,s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",(function(e){if(e.stopPropagation(),a.format)if(e.preventDefault(),void 0===e.clipboardData){i&&console.warn("unable to use e.clipboardData"),i&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=t[a.format]||t.default;window.clipboardData.setData(o,n)}else e.clipboardData.clearData(),e.clipboardData.setData(a.format,n);a.onCopy&&(e.preventDefault(),a.onCopy(e.clipboardData))})),document.body.appendChild(s),r.selectNodeContents(s),d.addRange(r),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");c=!0}catch(e){i&&console.error("unable to copy using execCommand: ",e),i&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(a.format||"text",n),a.onCopy&&a.onCopy(window.clipboardData),c=!0}catch(e){i&&console.error("unable to copy using clipboardData: ",e),i&&console.error("falling back to prompt"),o=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in a?a.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,n)}}finally{d&&("function"==typeof d.removeRange?d.removeRange(r):d.removeAllRanges()),s&&document.body.removeChild(s),l()}return c};function a(e,t=2){if(0===e)return"0 Bytes";const n=t<0?0:t,a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][a]}function i(e){return{name:e.name,size:a(e.size),type:e.type,blob:e}}const o=document.getElementById("drop-area"),l=document.getElementById("file-input"),r=document.getElementById("main-row"),d=document.getElementById("selector"),s=document.getElementById("selected"),c=document.getElementById("loading"),u=document.getElementById("uploaded"),p=document.getElementById("file"),y=document.getElementById("file-1"),m=document.getElementById("file-2"),f=document.getElementById("upl-btn"),g=document.getElementById("remove-btn"),b=document.getElementById("ok-btn"),v=document.getElementById("copy-btn");let h=null;o.addEventListener("dragenter",(function(e){e.stopPropagation(),e.preventDefault()}),!1),o.addEventListener("dragover",(function(e){e.preventDefault(),e.stopPropagation()}),!1),o.addEventListener("drop",(e=>{const t=((n=e).preventDefault(),n.stopPropagation(),n.dataTransfer.files[0]);var n;h=i(t);const a=`\n    <div> ${h.name} </div>\n    <div> ${h.size} </div>    \n  `;d.style.display="none",d.setAttribute("aria-hidden","true"),s.style.display="block",s.setAttribute("aria-hidden","false"),p.innerHTML=a}),!1),l.addEventListener("change",(e=>{const t=e.target.files[0];h=i(t);const n=`\n      <div> ${h.name} </div>\n      <div> ${h.size} </div>    \n    `;d.style.display="none",d.setAttribute("aria-hidden","true"),s.style.display="block",s.setAttribute("aria-hidden","false"),p.innerHTML=n}),!1),g.addEventListener("click",(()=>{s.style.display="none",s.setAttribute("aria-hidden","true"),d.style.display="block",d.setAttribute("aria-hidden","false"),p.innerHTML="",h=null}),!1),f.addEventListener("click",(async()=>{const e=`\n    <div> ${h.name} </div>\n    <div> ${h.size} </div>    \n  `;c.style.display="block",c.setAttribute("aria-hidden","false"),y.innerHTML=e,s.style.display="none",s.setAttribute("aria-hidden","true");try{const e=await(async(e,t)=>{const n=new FormData;return n.append("file",e),n.append("fileName",t),(await axios.post("/api/files",n,{headers:{"Content-Type":"multipart/form-data"}})).data})(h.blob,h.name);document.getElementById("link").value=`${e.file}`,m.innerHTML=`${h.name}`,r.style.display="none",r.setAttribute("aria-hidden","true"),y.innerHTML="",u.style.display="block",u.setAttribute("aria-hidden","false")}catch(e){alert("Could not save the file."),d.style.display="block",d.setAttribute("aria-hidden","false"),h=null,r.style.display="grid",r.setAttribute("aria-hidden","false")}finally{c.style.display="none",c.setAttribute("aria-hidden","true")}})),b.addEventListener("click",(()=>{u.style.display="none",u.setAttribute("aria-hidden","true"),d.style.display="block",d.setAttribute("aria-hidden","false"),p.innerHTML="",h=null,r.style.display="grid",r.setAttribute("aria-hidden","false")}),!1),v.addEventListener("click",(function(){const e=document.getElementById("link");n(e.value),this.innerHTML="Copied!"}),!1);
